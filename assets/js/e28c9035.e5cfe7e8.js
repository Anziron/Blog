"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[542],{8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>d});var s=r(6540);const i={},t=s.createContext(i);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:n},e.children)}},9201:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"opencv/feature-extraction","title":"\u56fe\u50cf\u5206\u6790\u4e0e\u7279\u5f81\u63d0\u53d6","description":"\u672c\u7ae0\u4ecb\u7ecdOpenCV\u4e2d\u7684\u56fe\u50cf\u5206\u6790\u548c\u7279\u5f81\u63d0\u53d6\u6280\u672f\uff0c\u8fd9\u4e9b\u662f\u8ba1\u7b97\u673a\u89c6\u89c9\u5e94\u7528\u4e2d\u7684\u6838\u5fc3\u80fd\u529b\u3002","source":"@site/docs/opencv/feature-extraction.md","sourceDirName":"opencv","slug":"/opencv/feature-extraction","permalink":"/docs/opencv/feature-extraction","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u56fe\u50cf\u5904\u7406\u8fdb\u9636","permalink":"/docs/opencv/image-processing-advanced"},"next":{"title":"\u673a\u5668\u5b66\u4e60","permalink":"/docs/machine_learning/"}}');var i=r(4848),t=r(8453);const c={},d="\u56fe\u50cf\u5206\u6790\u4e0e\u7279\u5f81\u63d0\u53d6",l={},h=[{value:"\u56fe\u50cf\u76f4\u65b9\u56fe\u5206\u6790",id:"\u56fe\u50cf\u76f4\u65b9\u56fe\u5206\u6790",level:2},{value:"\u7070\u5ea6\u76f4\u65b9\u56fe",id:"\u7070\u5ea6\u76f4\u65b9\u56fe",level:3},{value:"\u989c\u8272\u76f4\u65b9\u56fe",id:"\u989c\u8272\u76f4\u65b9\u56fe",level:3},{value:"\u63a9\u7801\u76f4\u65b9\u56fe",id:"\u63a9\u7801\u76f4\u65b9\u56fe",level:3},{value:"\u76f4\u65b9\u56fe\u5747\u8861\u5316",id:"\u76f4\u65b9\u56fe\u5747\u8861\u5316",level:3},{value:"\u76f4\u65b9\u56fe\u6bd4\u8f83",id:"\u76f4\u65b9\u56fe\u6bd4\u8f83",level:3},{value:"\u56fe\u50cf\u8f6e\u5ed3\u5206\u6790",id:"\u56fe\u50cf\u8f6e\u5ed3\u5206\u6790",level:2},{value:"\u57fa\u672c\u8f6e\u5ed3\u68c0\u6d4b",id:"\u57fa\u672c\u8f6e\u5ed3\u68c0\u6d4b",level:3},{value:"\u8f6e\u5ed3\u5c42\u6b21\u7ed3\u6784",id:"\u8f6e\u5ed3\u5c42\u6b21\u7ed3\u6784",level:3},{value:"\u8f6e\u5ed3\u5c5e\u6027\u5206\u6790",id:"\u8f6e\u5ed3\u5c5e\u6027\u5206\u6790",level:3},{value:"\u5f62\u72b6\u63cf\u8ff0\u7b26",id:"\u5f62\u72b6\u63cf\u8ff0\u7b26",level:3},{value:"\u51f8\u5305\u68c0\u6d4b",id:"\u51f8\u5305\u68c0\u6d4b",level:2},{value:"\u51f8\u7f3a\u9677",id:"\u51f8\u7f3a\u9677",level:3},{value:"\u7279\u5f81\u70b9\u68c0\u6d4b\u4e0e\u5339\u914d",id:"\u7279\u5f81\u70b9\u68c0\u6d4b\u4e0e\u5339\u914d",level:2},{value:"Harris\u89d2\u70b9\u68c0\u6d4b",id:"harris\u89d2\u70b9\u68c0\u6d4b",level:3},{value:"SIFT\u548cSURF\u7279\u5f81",id:"sift\u548csurf\u7279\u5f81",level:3},{value:"ORB\u7279\u5f81",id:"orb\u7279\u5f81",level:3},{value:"\u7279\u5f81\u5339\u914d",id:"\u7279\u5f81\u5339\u914d",level:3},{value:"\u7279\u5f81\u5206\u7c7b\u6bd4\u8f83",id:"\u7279\u5f81\u5206\u7c7b\u6bd4\u8f83",level:2},{value:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b",id:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b",level:2},{value:"\u6a21\u677f\u5339\u914d",id:"\u6a21\u677f\u5339\u914d",level:3},{value:"\u5168\u666f\u56fe\u50cf\u62fc\u63a5",id:"\u5168\u666f\u56fe\u50cf\u62fc\u63a5",level:3},{value:"\u603b\u7ed3\u4e0e\u62d3\u5c55\u65b9\u5411",id:"\u603b\u7ed3\u4e0e\u62d3\u5c55\u65b9\u5411",level:2}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u56fe\u50cf\u5206\u6790\u4e0e\u7279\u5f81\u63d0\u53d6",children:"\u56fe\u50cf\u5206\u6790\u4e0e\u7279\u5f81\u63d0\u53d6"})}),"\n",(0,i.jsx)(n.p,{children:"\u672c\u7ae0\u4ecb\u7ecdOpenCV\u4e2d\u7684\u56fe\u50cf\u5206\u6790\u548c\u7279\u5f81\u63d0\u53d6\u6280\u672f\uff0c\u8fd9\u4e9b\u662f\u8ba1\u7b97\u673a\u89c6\u89c9\u5e94\u7528\u4e2d\u7684\u6838\u5fc3\u80fd\u529b\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u56fe\u50cf\u76f4\u65b9\u56fe\u5206\u6790",children:"\u56fe\u50cf\u76f4\u65b9\u56fe\u5206\u6790"}),"\n",(0,i.jsx)(n.p,{children:"\u76f4\u65b9\u56fe\u662f\u56fe\u50cf\u4e2d\u50cf\u7d20\u503c\u5206\u5e03\u7684\u7edf\u8ba1\u8868\u793a\uff0c\u662f\u7406\u89e3\u56fe\u50cf\u7279\u6027\u7684\u6709\u529b\u5de5\u5177\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u7070\u5ea6\u76f4\u65b9\u56fe",children:"\u7070\u5ea6\u76f4\u65b9\u56fe"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u8ba1\u7b97\u7070\u5ea6\u76f4\u65b9\u56fe\r\nhist = cv2.calcHist([gray_img], [0], None, [256], [0, 256])\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u989c\u8272\u76f4\u65b9\u56fe",children:"\u989c\u8272\u76f4\u65b9\u56fe"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u8ba1\u7b97RGB\u4e09\u901a\u9053\u76f4\u65b9\u56fe\r\ncolor = ('b', 'g', 'r')\r\nfor i, col in enumerate(color):\r\n    histr = cv2.calcHist([img], [i], None, [256], [0, 256])\r\n    # \u7ed8\u5236\u6bcf\u4e2a\u901a\u9053\u7684\u76f4\u65b9\u56fe\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u63a9\u7801\u76f4\u65b9\u56fe",children:"\u63a9\u7801\u76f4\u65b9\u56fe"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u521b\u5efaROI\u533a\u57df\u7684\u63a9\u7801\r\nmask = np.zeros(img.shape[:2], np.uint8)\r\nmask[100:300, 100:400] = 255\r\n\r\n# \u4f7f\u7528\u63a9\u7801\u8ba1\u7b97\u76f4\u65b9\u56fe\r\nmasked_hist = cv2.calcHist([img], [0], mask, [256], [0, 256])\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u76f4\u65b9\u56fe\u5747\u8861\u5316",children:"\u76f4\u65b9\u56fe\u5747\u8861\u5316"}),"\n",(0,i.jsx)(n.p,{children:"\u76f4\u65b9\u56fe\u5747\u8861\u5316\u662f\u4e00\u79cd\u5e38\u7528\u7684\u56fe\u50cf\u589e\u5f3a\u6280\u672f\uff0c\u53ef\u4ee5\u63d0\u9ad8\u56fe\u50cf\u7684\u5bf9\u6bd4\u5ea6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u5e94\u7528\u76f4\u65b9\u56fe\u5747\u8861\u5316\r\nequalized = cv2.equalizeHist(gray_img)\r\n\r\n# \u81ea\u9002\u5e94\u76f4\u65b9\u56fe\u5747\u8861\u5316(CLAHE) - \u51cf\u5c11\u8fc7\u5ea6\u589e\u5f3a\u566a\u58f0\r\nclahe = cv2.createCLAHE(clipLimit=2.0, tileGridSize=(8, 8))\r\nclahe_img = clahe.apply(gray_img)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u76f4\u65b9\u56fe\u6bd4\u8f83",children:"\u76f4\u65b9\u56fe\u6bd4\u8f83"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u8ba1\u7b97\u4e24\u4e2a\u76f4\u65b9\u56fe\u4e4b\u95f4\u7684\u76f8\u4f3c\u5ea6\r\nsimilarity = cv2.compareHist(hist1, hist2, cv2.HISTCMP_CORREL)\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u6bd4\u8f83\u65b9\u6cd5"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u6700\u4f73\u5339\u914d\u503c"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"HISTCMP_CORREL"})}),(0,i.jsx)(n.td,{children:"\u76f8\u5173\u6027"}),(0,i.jsx)(n.td,{children:"\u63a5\u8fd11"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"HISTCMP_CHISQR"})}),(0,i.jsx)(n.td,{children:"\u5361\u65b9"}),(0,i.jsx)(n.td,{children:"\u63a5\u8fd10"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"HISTCMP_INTERSECT"})}),(0,i.jsx)(n.td,{children:"\u4ea4\u96c6"}),(0,i.jsx)(n.td,{children:"\u8d8a\u5927\u8d8a\u597d"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"HISTCMP_BHATTACHARYYA"})}),(0,i.jsx)(n.td,{children:"\u5df4\u6c0f\u8ddd\u79bb"}),(0,i.jsx)(n.td,{children:"\u63a5\u8fd10"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u56fe\u50cf\u8f6e\u5ed3\u5206\u6790",children:"\u56fe\u50cf\u8f6e\u5ed3\u5206\u6790"}),"\n",(0,i.jsx)(n.h3,{id:"\u57fa\u672c\u8f6e\u5ed3\u68c0\u6d4b",children:"\u57fa\u672c\u8f6e\u5ed3\u68c0\u6d4b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u83b7\u53d6\u56fe\u50cf\u8f6e\u5ed3\r\ncontours, hierarchy = cv2.findContours(\r\n    binary_img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE\r\n)\r\n\r\n# \u7ed8\u5236\u8f6e\u5ed3\r\ncontour_img = img.copy()\r\ncv2.drawContours(contour_img, contours, -1, (0, 255, 0), 2)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8f6e\u5ed3\u5c42\u6b21\u7ed3\u6784",children:"\u8f6e\u5ed3\u5c42\u6b21\u7ed3\u6784"}),"\n",(0,i.jsx)(n.p,{children:"\u8f6e\u5ed3\u5c42\u6b21\u7ed3\u6784\u8868\u793a\u8f6e\u5ed3\u4e4b\u95f4\u7684\u5305\u542b\u5173\u7cfb\uff1a"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u68c0\u7d22\u6a21\u5f0f"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u5e94\u7528\u573a\u666f"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RETR_EXTERNAL"})}),(0,i.jsx)(n.td,{children:"\u53ea\u68c0\u7d22\u6700\u5916\u5c42\u8f6e\u5ed3"}),(0,i.jsx)(n.td,{children:"\u7269\u4f53\u8ba1\u6570\u3001\u7b80\u5355\u5f62\u72b6\u68c0\u6d4b"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RETR_LIST"})}),(0,i.jsx)(n.td,{children:"\u68c0\u7d22\u6240\u6709\u8f6e\u5ed3\uff0c\u65e0\u5c42\u6b21\u5173\u7cfb"}),(0,i.jsx)(n.td,{children:"\u5168\u90e8\u8f6e\u5ed3\u5206\u6790\u3001\u7b80\u5355\u573a\u666f"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RETR_CCOMP"})}),(0,i.jsx)(n.td,{children:"\u68c0\u7d22\u6240\u6709\u8f6e\u5ed3\uff0c\u4e24\u5c42\u5c42\u6b21\u7ed3\u6784"}),(0,i.jsx)(n.td,{children:"\u7269\u4f53\u5185\u90e8\u548c\u5916\u90e8\u8f6e\u5ed3\u5206\u6790"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RETR_TREE"})}),(0,i.jsx)(n.td,{children:"\u68c0\u7d22\u6240\u6709\u8f6e\u5ed3\uff0c\u5b8c\u6574\u5c42\u6b21\u7ed3\u6784"}),(0,i.jsx)(n.td,{children:"\u590d\u6742\u573a\u666f\u3001\u5d4c\u5957\u5bf9\u8c61\u5206\u6790"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u8f6e\u5ed3\u5c5e\u6027\u5206\u6790",children:"\u8f6e\u5ed3\u5c5e\u6027\u5206\u6790"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u8ba1\u7b97\u8f6e\u5ed3\u7684\u9762\u79ef\r\narea = cv2.contourArea(contour)\r\n\r\n# \u8ba1\u7b97\u8f6e\u5ed3\u7684\u5468\u957f\r\nperimeter = cv2.arcLength(contour, True)  # True\u8868\u793a\u95ed\u5408\u8f6e\u5ed3\r\n\r\n# \u83b7\u53d6\u8f6e\u5ed3\u7684\u8fb9\u754c\u77e9\u5f62\r\nx, y, w, h = cv2.boundingRect(contour)\r\n\r\n# \u83b7\u53d6\u8f6e\u5ed3\u7684\u6700\u5c0f\u5916\u63a5\u77e9\u5f62\r\nrect = cv2.minAreaRect(contour)\r\nbox = cv2.boxPoints(rect)\r\nbox = np.int0(box)\n"})}),"\n",(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"15px",margin:"20px 0"},children:[(0,i.jsxs)("div",{style:{textAlign:"center",margin:"0 10px"},children:[(0,i.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",children:[(0,i.jsx)("path",{d:"M20,20 C30,10 70,10 80,20 C90,30 90,70 80,80 C70,90 30,90 20,80 C10,70 10,30 20,20",fill:"#f0f0f0",stroke:"#00aa00",strokeWidth:"2"}),(0,i.jsx)("rect",{x:"20",y:"20",width:"60",height:"60",fill:"none",stroke:"#0000ff",strokeWidth:"1",strokeDasharray:"4"})]}),(0,i.jsx)("div",{children:"\u8fb9\u754c\u77e9\u5f62"})]}),(0,i.jsxs)("div",{style:{textAlign:"center",margin:"0 10px"},children:[(0,i.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",children:[(0,i.jsx)("path",{d:"M20,20 C30,10 70,10 80,20 C90,30 90,70 80,80 C70,90 30,90 20,80 C10,70 10,30 20,20",fill:"#f0f0f0",stroke:"#00aa00",strokeWidth:"2"}),(0,i.jsx)("polygon",{points:"25,25 75,25 75,75 25,75",fill:"none",stroke:"#ff0000",strokeWidth:"1",transform:"rotate(15 50 50)",strokeDasharray:"4"})]}),(0,i.jsx)("div",{children:"\u6700\u5c0f\u5916\u63a5\u77e9\u5f62"})]}),(0,i.jsxs)("div",{style:{textAlign:"center",margin:"0 10px"},children:[(0,i.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",children:[(0,i.jsx)("path",{d:"M20,20 C30,10 70,10 80,20 C90,30 90,70 80,80 C70,90 30,90 20,80 C10,70 10,30 20,20",fill:"#f0f0f0",stroke:"#00aa00",strokeWidth:"2"}),(0,i.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#ff00ff",strokeWidth:"1",strokeDasharray:"4"})]}),(0,i.jsx)("div",{children:"\u6700\u5c0f\u5916\u63a5\u5706"})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u5f62\u72b6\u63cf\u8ff0\u7b26",children:"\u5f62\u72b6\u63cf\u8ff0\u7b26"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u8ba1\u7b97\u8f6e\u5ed3\u7684Hu\u77e9\r\nmoments = cv2.moments(contour)\r\nhu_moments = cv2.HuMoments(moments)\r\n\r\n# \u8ba1\u7b97\u8f6e\u5ed3\u7684\u8d28\u5fc3\r\ncx = int(moments['m10'] / moments['m00'])\r\ncy = int(moments['m01'] / moments['m00'])\r\n\r\n# \u8ba1\u7b97\u8f6e\u5ed3\u7684\u5f62\u72b6\u7279\u5f81\r\nsolidity = area / cv2.contourArea(cv2.convexHull(contour))\r\naspect_ratio = float(w) / h\r\nextent = area / (w * h)\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u5f62\u72b6\u63cf\u8ff0\u7b26\u5e94\u7528",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hu\u77e9"}),": \u65cb\u8f6c\u3001\u7f29\u653e\u548c\u5e73\u79fb\u4e0d\u53d8\u6027\uff0c\u9002\u5408\u5f62\u72b6\u5339\u914d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u8d28\u5fc3"}),": \u5b9a\u4f4d\u7269\u4f53\u4e2d\u5fc3\uff0c\u8ffd\u8e2a\u7269\u4f53\u8fd0\u52a8"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u51f8\u5ea6"}),": \u68c0\u6d4b\u7269\u4f53\u7684\u51f9\u9677\u7a0b\u5ea6\uff0c\u8bc6\u522b\u7279\u5b9a\u5f62\u72b6"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u7eb5\u6a2a\u6bd4"}),": \u533a\u5206\u957f\u5f62\u548c\u65b9\u5f62\u7269\u4f53"]}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"\u51f8\u5305\u68c0\u6d4b",children:"\u51f8\u5305\u68c0\u6d4b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u8ba1\u7b97\u8f6e\u5ed3\u7684\u51f8\u5305\r\nhull = cv2.convexHull(contour)\r\n\r\n# \u7ed8\u5236\u51f8\u5305\r\nhull_img = img.copy()\r\ncv2.drawContours(hull_img, [hull], 0, (0, 0, 255), 2)\n"})}),"\n",(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"20px 0"},children:[(0,i.jsxs)("div",{style:{textAlign:"center",margin:"0 20px"},children:[(0,i.jsx)("svg",{width:"150",height:"100",viewBox:"0 0 150 100",children:(0,i.jsx)("path",{d:"M20,50 L40,20 L60,30 L80,10 L100,25 L120,15 L140,40 L130,60 L110,70 L90,50 L70,80 L50,65 L30,75 Z",fill:"#d0d0d0",stroke:"#333",strokeWidth:"2"})}),(0,i.jsx)("div",{children:"\u539f\u59cb\u8f6e\u5ed3"})]}),(0,i.jsx)("div",{children:"\u2192"}),(0,i.jsxs)("div",{style:{textAlign:"center",margin:"0 20px"},children:[(0,i.jsxs)("svg",{width:"150",height:"100",viewBox:"0 0 150 100",children:[(0,i.jsx)("path",{d:"M20,50 L40,20 L60,30 L80,10 L100,25 L120,15 L140,40 L130,60 L110,70 L90,50 L70,80 L50,65 L30,75 Z",fill:"#d0d0d0",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("path",{d:"M20,50 L40,20 L80,10 L120,15 L140,40 L130,60 L110,70 L70,80 L30,75 Z",fill:"none",stroke:"#ff0000",strokeWidth:"2"})]}),(0,i.jsx)("div",{children:"\u51f8\u5305"})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u51f8\u7f3a\u9677",children:"\u51f8\u7f3a\u9677"}),"\n",(0,i.jsx)(n.p,{children:"\u51f8\u7f3a\u9677\u662f\u7269\u4f53\u8f6e\u5ed3\u4e0e\u5176\u51f8\u5305\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u5e38\u7528\u4e8e\u624b\u52bf\u8bc6\u522b\u7b49\u573a\u666f\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u67e5\u627e\u51f8\u7f3a\u9677\r\ndefects = cv2.convexityDefects(contour, cv2.convexHull(contour, returnPoints=False))\r\n\r\n# \u5904\u7406\u51f8\u7f3a\u9677\u70b9\r\nfor i in range(defects.shape[0]):\r\n    s, e, f, d = defects[i, 0]\r\n    start = tuple(contour[s][0])\r\n    end = tuple(contour[e][0])\r\n    far = tuple(contour[f][0])\r\n  \r\n    # \u7ed8\u5236\u51f8\u7f3a\u9677\u70b9\u548c\u7ebf\r\n    cv2.line(img, start, end, [0, 255, 0], 2)\r\n    cv2.circle(img, far, 5, [0, 0, 255], -1)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7279\u5f81\u70b9\u68c0\u6d4b\u4e0e\u5339\u914d",children:"\u7279\u5f81\u70b9\u68c0\u6d4b\u4e0e\u5339\u914d"}),"\n",(0,i.jsx)(n.h3,{id:"harris\u89d2\u70b9\u68c0\u6d4b",children:"Harris\u89d2\u70b9\u68c0\u6d4b"}),"\n",(0,i.jsx)(n.p,{children:"\u89d2\u70b9\u662f\u56fe\u50cf\u4e2d\u68af\u5ea6\u5728\u591a\u4e2a\u65b9\u5411\u53d8\u5316\u663e\u8457\u7684\u70b9\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Harris\u89d2\u70b9\u68c0\u6d4b\r\ncorners = cv2.cornerHarris(gray_img.astype(np.float32), 2, 3, 0.04)\r\n\r\n# \u6807\u8bb0\u89d2\u70b9\r\ncorner_img = img.copy()\r\ncorner_img[corners > 0.01 * corners.max()] = [0, 0, 255]\n"})}),"\n",(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"20px 0"},children:(0,i.jsxs)("div",{style:{textAlign:"center",margin:"0 20px"},children:[(0,i.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",children:[(0,i.jsx)("rect",{x:"20",y:"20",width:"80",height:"80",fill:"#f0f0f0",stroke:"#333"}),(0,i.jsx)("circle",{cx:"20",cy:"20",r:"5",fill:"#ff0000"}),(0,i.jsx)("circle",{cx:"100",cy:"20",r:"5",fill:"#ff0000"}),(0,i.jsx)("circle",{cx:"20",cy:"100",r:"5",fill:"#ff0000"}),(0,i.jsx)("circle",{cx:"100",cy:"100",r:"5",fill:"#ff0000"})]}),(0,i.jsx)("div",{children:"Harris\u89d2\u70b9"})]})}),"\n",(0,i.jsx)(n.h3,{id:"sift\u548csurf\u7279\u5f81",children:"SIFT\u548cSURF\u7279\u5f81"}),"\n",(0,i.jsx)(n.p,{children:"SIFT(\u5c3a\u5ea6\u4e0d\u53d8\u7279\u5f81\u53d8\u6362)\u548cSURF(\u52a0\u901f\u7a33\u5065\u7279\u5f81)\u662f\u5f3a\u5927\u7684\u7279\u5f81\u68c0\u6d4b\u7b97\u6cd5\uff0c\u53ef\u7528\u4e8e\u5bf9\u8c61\u8bc6\u522b\u548c\u56fe\u50cf\u5339\u914d\u3002"}),"\n",(0,i.jsx)(n.admonition,{title:"\u6ce8\u610f",type:"warning",children:(0,i.jsxs)(n.p,{children:["SIFT\u548cSURF\u662f\u4e13\u5229\u7b97\u6cd5\uff0c\u9700\u8981\u901a\u8fc7\u5b89\u88c5 ",(0,i.jsx)(n.code,{children:"opencv-contrib-python"}),"\u624d\u80fd\u4f7f\u7528\u3002"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u521b\u5efaSIFT\u68c0\u6d4b\u5668\r\nsift = cv2.SIFT_create()\r\n\r\n# \u68c0\u6d4b\u5173\u952e\u70b9\u548c\u8ba1\u7b97\u63cf\u8ff0\u7b26\r\nkeypoints, descriptors = sift.detectAndCompute(gray_img, None)\r\n\r\n# \u7ed8\u5236\u5173\u952e\u70b9\r\nsift_img = cv2.drawKeypoints(img, keypoints, None, flags=cv2.DRAW_MATCHES_FLAGS_DRAW_RICH_KEYPOINTS)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"orb\u7279\u5f81",children:"ORB\u7279\u5f81"}),"\n",(0,i.jsx)(n.p,{children:"ORB (Oriented FAST and Rotated BRIEF) \u662f\u4e00\u79cd\u5f00\u6e90\u66ff\u4ee3\u65b9\u6848\uff0c\u901f\u5ea6\u5feb\u4e14\u65e0\u4e13\u5229\u9650\u5236\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u521b\u5efaORB\u68c0\u6d4b\u5668\r\norb = cv2.ORB_create()\r\n\r\n# \u68c0\u6d4b\u5173\u952e\u70b9\u548c\u8ba1\u7b97\u63cf\u8ff0\u7b26\r\nkeypoints, descriptors = orb.detectAndCompute(gray_img, None)\r\n\r\n# \u7ed8\u5236\u5173\u952e\u70b9\r\norb_img = cv2.drawKeypoints(img, keypoints, None, color=(0, 255, 0))\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u7279\u5f81\u5339\u914d",children:"\u7279\u5f81\u5339\u914d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u521b\u5efaBF\u5339\u914d\u5668\r\nbf = cv2.BFMatcher(cv2.NORM_HAMMING, crossCheck=True)\r\n\r\n# \u5339\u914d\u63cf\u8ff0\u7b26\r\nmatches = bf.match(descriptors1, descriptors2)\r\n\r\n# \u6309\u8ddd\u79bb\u6392\u5e8f\r\nmatches = sorted(matches, key=lambda x: x.distance)\r\n\r\n# \u7ed8\u5236\u524dN\u4e2a\u5339\u914d\r\nmatch_img = cv2.drawMatches(img1, keypoints1, img2, keypoints2, matches[:30], None)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7279\u5f81\u5206\u7c7b\u6bd4\u8f83",children:"\u7279\u5f81\u5206\u7c7b\u6bd4\u8f83"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u7279\u5f81\u7c7b\u578b"}),(0,i.jsx)(n.th,{children:"\u4f18\u52bf"}),(0,i.jsx)(n.th,{children:"\u52a3\u52bf"}),(0,i.jsx)(n.th,{children:"\u9002\u7528\u573a\u666f"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Harris\u89d2\u70b9"})}),(0,i.jsx)(n.td,{children:"\u7b80\u5355\u5feb\u901f\u3001\u51c6\u786e\u5b9a\u4f4d"}),(0,i.jsx)(n.td,{children:"\u4e0d\u5177\u5c3a\u5ea6\u4e0d\u53d8\u6027"}),(0,i.jsx)(n.td,{children:"\u7b80\u5355\u573a\u666f\u3001\u5b9e\u65f6\u5e94\u7528"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"SIFT"})}),(0,i.jsx)(n.td,{children:"\u5c3a\u5ea6\u3001\u65cb\u8f6c\u4e0d\u53d8\u6027\u5f3a"}),(0,i.jsx)(n.td,{children:"\u8ba1\u7b97\u8f83\u6162\u3001\u4e13\u5229\u9650\u5236"}),(0,i.jsx)(n.td,{children:"\u590d\u6742\u573a\u666f\u5339\u914d\u3001\u5168\u666f\u62fc\u63a5"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"SURF"})}),(0,i.jsx)(n.td,{children:"\u6bd4SIFT\u66f4\u5feb\u3001\u4e0d\u53d8\u6027\u826f\u597d"}),(0,i.jsx)(n.td,{children:"\u4e13\u5229\u9650\u5236\u3001\u7565\u5fae\u964d\u4f4e\u7cbe\u5ea6"}),(0,i.jsx)(n.td,{children:"\u9ad8\u901f\u573a\u666f\u3001\u76ee\u6807\u8ddf\u8e2a"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"ORB"})}),(0,i.jsx)(n.td,{children:"\u975e\u5e38\u5feb\u901f\u3001\u65e0\u4e13\u5229\u9650\u5236"}),(0,i.jsx)(n.td,{children:"\u4e0d\u53d8\u6027\u5f31\u4e8eSIFT/SURF"}),(0,i.jsx)(n.td,{children:"\u5b9e\u65f6\u5e94\u7528\u3001\u4f4e\u8ba1\u7b97\u8d44\u6e90\u73af\u5883"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b",children:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b"}),"\n",(0,i.jsx)(n.h3,{id:"\u6a21\u677f\u5339\u914d",children:"\u6a21\u677f\u5339\u914d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u6a21\u677f\u5339\u914d\r\nresult = cv2.matchTemplate(img, template, cv2.TM_CCOEFF_NORMED)\r\n\r\n# \u83b7\u53d6\u6700\u4f73\u5339\u914d\u4f4d\u7f6e\r\nmin_val, max_val, min_loc, max_loc = cv2.minMaxLoc(result)\r\n\r\n# \u6839\u636e\u5339\u914d\u65b9\u6cd5\u786e\u5b9a\u5339\u914d\u4f4d\u7f6e\r\ntop_left = max_loc  # \u5bf9\u4e8eTM_CCOEFF_NORMED\u65b9\u6cd5\r\nbottom_right = (top_left[0] + w, top_left[1] + h)\r\n\r\n# \u7ed8\u5236\u77e9\u5f62\u6846\u6807\u8bb0\u5339\u914d\u533a\u57df\r\ncv2.rectangle(img, top_left, bottom_right, 255, 2)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5168\u666f\u56fe\u50cf\u62fc\u63a5",children:"\u5168\u666f\u56fe\u50cf\u62fc\u63a5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# 1. \u68c0\u6d4b\u7279\u5f81\u70b9\u548c\u63cf\u8ff0\u7b26\r\nkeypoints1, descriptors1 = sift.detectAndCompute(gray1, None)\r\nkeypoints2, descriptors2 = sift.detectAndCompute(gray2, None)\r\n\r\n# 2. \u7279\u5f81\u5339\u914d\r\nmatches = bf.knnMatch(descriptors1, descriptors2, k=2)\r\n\r\n# 3. \u5e94\u7528\u6bd4\u7387\u6d4b\u8bd5\u7b5b\u9009\u597d\u7684\u5339\u914d\r\ngood_matches = []\r\nfor m, n in matches:\r\n    if m.distance < 0.75 * n.distance:\r\n        good_matches.append(m)\r\n\r\n# 4. \u627e\u5230\u53d8\u6362\u77e9\u9635\r\nsrc_pts = np.float32([keypoints1[m.queryIdx].pt for m in good_matches]).reshape(-1, 1, 2)\r\ndst_pts = np.float32([keypoints2[m.trainIdx].pt for m in good_matches]).reshape(-1, 1, 2)\r\nM, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC, 5.0)\r\n\r\n# 5. \u5e94\u7528\u53d8\u6362\r\nresult = cv2.warpPerspective(img1, M, (img1.shape[1] + img2.shape[1], img1.shape[0]))\r\nresult[0:img2.shape[0], 0:img2.shape[1]] = img2\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u603b\u7ed3\u4e0e\u62d3\u5c55\u65b9\u5411",children:"\u603b\u7ed3\u4e0e\u62d3\u5c55\u65b9\u5411"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u6280\u672f"}),(0,i.jsx)(n.th,{children:"\u6838\u5fc3\u5e94\u7528"}),(0,i.jsx)(n.th,{children:"\u8fdb\u9636\u65b9\u5411"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u76f4\u65b9\u56fe\u5206\u6790"})}),(0,i.jsx)(n.td,{children:"\u56fe\u50cf\u5206\u7c7b\u3001\u5bf9\u6bd4\u5ea6\u589e\u5f3a"}),(0,i.jsx)(n.td,{children:"\u591a\u7ef4\u76f4\u65b9\u56fe\u3001\u6df1\u5ea6\u5b66\u4e60\u4e0e\u76f4\u65b9\u56fe\u878d\u5408"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u8f6e\u5ed3\u5206\u6790"})}),(0,i.jsx)(n.td,{children:"\u5f62\u72b6\u8bc6\u522b\u3001\u76ee\u6807\u68c0\u6d4b"}),(0,i.jsx)(n.td,{children:"\u591a\u5c3a\u5ea6\u8f6e\u5ed3\u5206\u6790\u3001\u5b9e\u65f6\u8f6e\u5ed3\u8ddf\u8e2a"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u7279\u5f81\u70b9\u68c0\u6d4b"})}),(0,i.jsx)(n.td,{children:"\u56fe\u50cf\u5339\u914d\u3001\u7269\u4f53\u8bc6\u522b"}),(0,i.jsx)(n.td,{children:"\u6df1\u5ea6\u5b66\u4e60\u7279\u5f81\u70b9\u3001\u8bed\u4e49\u7279\u5f81\u70b9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u7279\u5f81\u5339\u914d"})}),(0,i.jsx)(n.td,{children:"\u56fe\u50cf\u62fc\u63a5\u3001\u76ee\u6807\u68c0\u6d4b"}),(0,i.jsx)(n.td,{children:"\u9c81\u68d2\u7279\u5f81\u5339\u914d\u3001\u7279\u5f81\u878d\u5408\u7b56\u7565"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"\u638c\u63e1\u8fd9\u4e9b\u56fe\u50cf\u5206\u6790\u548c\u7279\u5f81\u63d0\u53d6\u6280\u672f\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u53d1\u66f4\u667a\u80fd\u7684\u8ba1\u7b97\u673a\u89c6\u89c9\u5e94\u7528\uff0c\u5982\u7269\u4f53\u8bc6\u522b\u3001\u56fe\u50cf\u641c\u7d22\u3001\u589e\u5f3a\u73b0\u5b9e\u7b49\u3002\u7ed3\u5408\u6df1\u5ea6\u5b66\u4e60\uff0c\u66f4\u53ef\u4ee5\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u89c6\u89c9\u7406\u89e3\u4efb\u52a1\u3002"})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);